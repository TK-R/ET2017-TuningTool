<Controls:MetroWindow x:Class="ET2017_TuningTool.MainView"
    xmlns:Controls="http://metro.mahapps.com/winfx/xaml/controls"
    TextElement.Foreground="{DynamicResource MaterialDesignBody}"
    Background="{DynamicResource MaterialDesignPaper}"
    FontFamily="pack://application:,,,/MaterialDesignThemes.Wpf;component/Resources/Roboto/#Roboto"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:local="clr-namespace:ET2017_TuningTool"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    mc:Ignorable="d"
    xmlns:lvc="clr-namespace:LiveCharts.Wpf;assembly=LiveCharts.Wpf"
    GlowBrush="{DynamicResource AccentColorBrush}"
    Title="EV3 TOONING TOOL" Height="611.5" Width="800">

    <Window.DataContext>
        <local:MainViewModel/>
    </Window.DataContext>

    <Controls:MetroWindow.RightWindowCommands>
        <Controls:WindowCommands/>
    </Controls:MetroWindow.RightWindowCommands>


    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="460*"/>
            <ColumnDefinition Width="150"/>
        </Grid.ColumnDefinitions>
        <Grid Grid.Column="0" Margin="2,4,0,0">
            <Grid.RowDefinitions>
                <RowDefinition Height="100*"/>
                <RowDefinition Height="200"/>
                <RowDefinition Height="30*"/>
            </Grid.RowDefinitions>
            <GroupBox Grid.Row="0" Header="ROBOT STATUS" Margin="2" >
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="150" />
                        <ColumnDefinition Width="100*"/>
                        <ColumnDefinition Width="150" />
                        <ColumnDefinition Width="100*"/>
                    </Grid.ColumnDefinitions>
                    <Grid Grid.Column="1">
                        <Grid.Resources>
                            <Style TargetType="lvc:LineSeries">
                                <Setter Property="StrokeThickness" Value="1.5"></Setter>
                                <Setter Property="PointGeometry" Value="{x:Null}"></Setter>
                                <Setter Property="LineSmoothness" Value="0"></Setter>
                                <Setter Property="Fill" Value="Transparent"></Setter>
                            </Style>
                        </Grid.Resources>
                        <lvc:CartesianChart AnimationsSpeed="0" 
                                            Hoverable="False"
                                            DataTooltip="{x:Null}" 
                                            Background="Transparent"
                                            DisableAnimations="{Binding AnimationEnable}">
                            <lvc:CartesianChart.Series>
                                <lvc:LineSeries Values="{Binding GraphValue1}"/>
                                <lvc:LineSeries Values="{Binding GraphValue2}"/>
                                <lvc:LineSeries Values="{Binding GraphValue3}"/>
                                <lvc:LineSeries Values="{Binding GraphValue4}"/>
                                <lvc:LineSeries Values="{Binding GraphValue5}"/>
                            </lvc:CartesianChart.Series>
                            <lvc:CartesianChart.AxisX>
                                <lvc:Axis IsMerged="True" MaxValue="{Binding GraphYMaxValue}" MinValue="0">
                                    <lvc:Axis.Separator>
                                        <lvc:Separator StrokeThickness="1" StrokeDashArray="2">
                                            <lvc:Separator.Stroke>
                                                <SolidColorBrush Color="#404F56" />
                                            </lvc:Separator.Stroke>
                                        </lvc:Separator>
                                    </lvc:Axis.Separator>
                                </lvc:Axis>
                            </lvc:CartesianChart.AxisX>
                            <lvc:CartesianChart.AxisY>
                                <lvc:Axis IsMerged="True" MaxValue="100" MinValue="-5">
                                    <lvc:Axis.Separator>
                                        <lvc:Separator StrokeThickness="1.5" StrokeDashArray="4">
                                            <lvc:Separator.Stroke>
                                                <SolidColorBrush Color="#404F56" />
                                            </lvc:Separator.Stroke>
                                        </lvc:Separator>
                                    </lvc:Axis.Separator>
                                </lvc:Axis>
                            </lvc:CartesianChart.AxisY>
                        </lvc:CartesianChart>
                    </Grid>
                    <Grid Grid.Column="0" Grid.Row="0">
                        <TextBlock HorizontalAlignment="Left"
                                   Margin="10,10,0,0"
                                   TextWrapping="Wrap" 
                                   Text="Reflected Light : " 
                                   VerticalAlignment="Top"/>
                        <TextBlock HorizontalAlignment="Left"
                                   Margin="10,29,0,0"
                                   TextWrapping="Wrap" 
                                   Text="Sensing Color : " 
                                   VerticalAlignment="Top"/>
                        <TextBlock HorizontalAlignment="Left"
                            Margin="100,10,0,0"
                            TextWrapping="Wrap" 
                            Text="{Binding ReflectedLight}" 
                            VerticalAlignment="Top"/>

                        <Rectangle Fill="{Binding SensorColor}" 
                                   HorizontalAlignment="Left" 
                                   VerticalAlignment="Top"
                                   Height="14"                                  
                                   Margin="100,29,0,0"
                                   Stroke="Black"  Width="22"/>
                    </Grid>
                    <Grid Grid.Column="3">
                        <Grid.Resources>
                            <Style TargetType="lvc:LineSeries">
                                <Setter Property="StrokeThickness" Value="1.5"></Setter>
                                <Setter Property="PointGeometry" Value="{x:Null}"></Setter>
                                <Setter Property="LineSmoothness" Value="0"></Setter>
                                <Setter Property="Fill" Value="Transparent"></Setter>
                            </Style>
                        </Grid.Resources>

                        <lvc:CartesianChart AnimationsSpeed="0" 
                                            Hoverable="False"
                                            DataTooltip="{x:Null}" 
                                            Background="Transparent"
                                            DisableAnimations="{Binding AnimationEnable}">
                            <lvc:CartesianChart.Series>
                                <lvc:LineSeries Values="{Binding GraphValue1}"/>
                                <lvc:LineSeries Values="{Binding GraphValue2}"/>
                                <lvc:LineSeries Values="{Binding GraphValue3}"/>
                                <lvc:LineSeries Values="{Binding GraphValue4}"/>
                                <lvc:LineSeries Values="{Binding GraphValue5}"/>
                            </lvc:CartesianChart.Series>
                            <lvc:CartesianChart.AxisX>
                                <lvc:Axis IsMerged="True" MaxValue="{Binding GraphYMaxValue}" MinValue="0">
                                    <lvc:Axis.Separator>
                                        <lvc:Separator StrokeThickness="1" StrokeDashArray="2">
                                            <lvc:Separator.Stroke>
                                                <SolidColorBrush Color="#404F56" />
                                            </lvc:Separator.Stroke>
                                        </lvc:Separator>
                                    </lvc:Axis.Separator>
                                </lvc:Axis>
                            </lvc:CartesianChart.AxisX>
                            <lvc:CartesianChart.AxisY>
                                <lvc:Axis IsMerged="True" MaxValue="100" MinValue="-5">
                                    <lvc:Axis.Separator>
                                        <lvc:Separator StrokeThickness="1.5" StrokeDashArray="4">
                                            <lvc:Separator.Stroke>
                                                <SolidColorBrush Color="#404F56" />
                                            </lvc:Separator.Stroke>
                                        </lvc:Separator>
                                    </lvc:Axis.Separator>
                                </lvc:Axis>
                            </lvc:CartesianChart.AxisY>
                        </lvc:CartesianChart>


                    </Grid>
                </Grid>
            </GroupBox>
            <GroupBox Grid.Row="1" Header="FIELD" Margin="2" >
                <Grid>
                    <Label Content="初期位置コード：" FontSize="12" Margin="0,3,536,119"/>
                    <TextBox Text="{Binding InitPostionCode.Value, Mode=TwoWay}"  TextAlignment="Right" Margin="87,3,0,121" HorizontalAlignment="Left" Width="81"/>
                    <Image Source="/ET2017-TuningTool;component/Image/BlockSortField.png" HorizontalAlignment="Left" Width="272" Height="114" VerticalAlignment="Bottom" />
                    <Canvas HorizontalAlignment="Left" Height="121"  VerticalAlignment="Top" Width="293" Margin="0,25,0,0">
                        <Ellipse Fill="Yellow" Height="20" Width="20" Stroke="Black"
                                   Canvas.Left="{Binding Yellow.Value.X}"  Canvas.Top="{Binding Yellow.Value.Y}"  />
                        <Ellipse Fill="Green" Height="20" Width="20" Stroke="Black"
                                   Canvas.Left="{Binding Green.Value.X}" Canvas.Top="{Binding Green.Value.Y}"  />
                        <Ellipse Fill="Blue" Height="20" Width="20" Stroke="Black" 
                                   Canvas.Left="{Binding Blue.Value.X}" Canvas.Top="{Binding Blue.Value.Y}"  />
                        <Ellipse Fill="Red" Height="20" Width="20" Stroke="Black"
                                   Canvas.Left="{Binding Red.Value.X}" Canvas.Top="{Binding Red.Value.Y}"  />
                        <Ellipse Fill="Black" Height="20" Width="20" Stroke="Black"
                                   Canvas.Left="{Binding Black.Value.X}" Canvas.Top="{Binding Black.Value.Y}"   />
                    </Canvas>
                    <Button Content="DECODE" Command="{Binding DecodeCommand}"  HorizontalAlignment="Left" Margin="186,2,0,0" VerticalAlignment="Top" Width="86" Height="26"/>

                </Grid>
            </GroupBox>
            <GroupBox Grid.Row="2" Header="LOG" Margin="2" >
                <Grid>
                    <TextBlock  x:Name="textBlock"  TextWrapping="Wrap" Text="TextBlock"/>
                </Grid>
            </GroupBox>
        </Grid>
        <Grid Grid.Column="1" Margin="0,4,0,0">
            <Grid.RowDefinitions>
                <RowDefinition/>
                <RowDefinition/>
                <RowDefinition/>
            </Grid.RowDefinitions>
            <Grid Grid.Row="0">
                <GroupBox Header="STATE - CONTROL" Margin="2" VerticalAlignment="Top">
                    <Grid>
                        <Button x:Name="StartButton" Content="START" Width="75" Margin="0,0,0,102" HorizontalAlignment="Left"/>
                        <Button x:Name="StopButton" Content="STOP" Margin="0,37,0,65" HorizontalAlignment="Left" Width="75"/>
                        <Button x:Name="ResetButton" Content="RESET" Margin="0,74,0,28" HorizontalAlignment="Left" Width="75"/>
                    </Grid>
                </GroupBox>
            </Grid>
            <Grid Grid.Row="1">
                <GroupBox Header="BLUETOOTH" Margin="2" VerticalAlignment="Top" >
                    <Grid>
                        <Button x:Name="ConnectButton" Content="CONNECT" Command="{Binding ConnectCommand}" Margin="0,31,0,71" HorizontalAlignment="Left" Width="120" />
                        <Button x:Name="DisconnectButton" Content="DISCONNECT" Command="{Binding DisconnectCommand}" Margin="0,0,0,34" VerticalAlignment="Bottom" HorizontalAlignment="Left" Width="120" />
                        <ComboBox materialDesign:HintAssist.Hint="Select Port" Margin="0,0,0,108" Height="24" HorizontalAlignment="Left" Width="120"
                                  ItemsSource="{Binding SerialPortNames}" SelectedItem="{Binding SelectedPortName}"/>

                    </Grid>
                </GroupBox>
            </Grid>
            <Grid Grid.Row="2" Height="190" VerticalAlignment="Top">
                <GroupBox Header="MESSAGE" Margin="2" >
                    <Grid>
                    </Grid>
                </GroupBox>
            </Grid>
        </Grid>
    </Grid>
</Controls:MetroWindow>
